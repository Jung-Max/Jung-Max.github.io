<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">

    

    
    <title>openCv page Dewarp 분석 -6 | Max&#39;s Blog</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="naver-site-verification" content="000ea7de66e3dddb62de099ee3dc02156c6f9d64">
        <meta name="keywords" content="openCV,pageDewarp">
    
    <meta name="description" content="저번 포스트에서는 윤곽선을 합치는 것에대해서 살펴보았습니다. 이번 포스트에서는 키포인트 검출에대해서 살펴보겠습니다. sample_spans1span_points = sample_spans(small.shape, spans)  sample_spans 함수로 앞서 만들었던 선(span)에서 포인트가 되는 부분을 생성합니다. input으로는 이미지의 차원 정보(">
<meta name="keywords" content="openCV,pageDewarp">
<meta property="og:type" content="article">
<meta property="og:title" content="openCv page Dewarp 분석 -6">
<meta property="og:url" content="http://jung-max.github.io/2020/02/17/openCV-pageDewarp-06/index.html">
<meta property="og:site_name" content="Max&#39;s Blog">
<meta property="og:description" content="저번 포스트에서는 윤곽선을 합치는 것에대해서 살펴보았습니다. 이번 포스트에서는 키포인트 검출에대해서 살펴보겠습니다. sample_spans1span_points = sample_spans(small.shape, spans)  sample_spans 함수로 앞서 만들었던 선(span)에서 포인트가 되는 부분을 생성합니다. input으로는 이미지의 차원 정보(">
<meta property="og:locale" content="ko">
<meta property="og:image" content="http://jung-max.github.io/images/0036.png">
<meta property="og:updated_time" content="2022-02-08T02:11:11.813Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="openCv page Dewarp 분석 -6">
<meta name="twitter:description" content="저번 포스트에서는 윤곽선을 합치는 것에대해서 살펴보았습니다. 이번 포스트에서는 키포인트 검출에대해서 살펴보겠습니다. sample_spans1span_points = sample_spans(small.shape, spans)  sample_spans 함수로 앞서 만들었던 선(span)에서 포인트가 되는 부분을 생성합니다. input으로는 이미지의 차원 정보(">
<meta name="twitter:image" content="http://jung-max.github.io/images/0036.png">
    
    <link rel="canonical" href="http://jung-max.github.io/2020/02/17/opencv-pagedewarp-06/">


    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-146054180-1', 'auto');
ga('send', 'pageview');

</script>

    
    


<link rel="alternate" href="/feed.xml" title="Max's Blog" type="application/rss+xml">
</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">개발시 정리사항 끄적끄적</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">홈</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/">Android</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/App/">App</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/BLE/">BLE</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/HID/">HID</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/MediaPlayer/">MediaPlayer</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-Architecture/">Platform Architecture</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-DTS/">Platform DTS</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-JNI/">Platform JNI</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-Kernel/">Platform Kernel</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-SEAndroid/">Platform SEAndroid</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-SurfaceFlinger/">Platform SurfaceFlinger</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-U-Boot/">Platform U-Boot</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-boot/">Platform boot</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/Platform-개발-환경/">Platform 개발 환경</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/개발환경/">개발환경</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Android/지식/">지식</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Linux/">Linux</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Linux/buildroot/">buildroot</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Linux/http/">http</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Web/">Web</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Web/Javascript/">Javascript</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Web/SpringBoot/">SpringBoot</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/openCV/">openCV</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/openCV/pageDewarp/">pageDewarp</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/openCV/지식/">지식</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/python/">python</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/python/GUI/">GUI</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/python/setting/">setting</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/python/통신/">통신</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/">기타</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/Git/">Git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/GitHub-Pages/">GitHub Pages</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/Markdown/">Markdown</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/기타/">기타</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/기타/라즈베리파이/">라즈베리파이</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="https://about.me/jung-max" rel="external nofollow noopener noreferrer" target="_blank">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="검색">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '포스트',
            PAGES: 'Pages',
            CATEGORIES: '카테고리',
            TAGS: '태그',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/openCV/">openCV</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/openCV/pageDewarp/">pageDewarp</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-openCV-pageDewarp-06" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        openCv page Dewarp 분석 -6
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2020/02/17/openCV-pageDewarp-06/" class="article-date">
            <time datetime="2020-02-16T23:42:31.000Z" itemprop="datePublished">2020-02-17</time>
        </a>
    </div>

		

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/openCV/">openCV</a>, <a class="tag-link" href="/tags/pageDewarp/">pageDewarp</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <p>저번 포스트에서는 윤곽선을 합치는 것에대해서 살펴보았습니다.</p>
<p>이번 포스트에서는 키포인트 검출에대해서 살펴보겠습니다.</p>
<h2 id="sample-spans"><a href="#sample-spans" class="headerlink" title="sample_spans"></a>sample_spans</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">span_points = sample_spans(small.shape, spans)</span><br></pre></td></tr></table></figure>

<p><code>sample_spans</code> 함수로 앞서 만들었던 선(span)에서 포인트가 되는 부분을 생성합니다.</p>
<p>input으로는 이미지의 차원 정보(smaa.shape)와 선(span)정보입니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample_spans</span><span class="params">(shape, spans)</span>:</span></span><br><span class="line"></span><br><span class="line">    span_points = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> span <span class="keyword">in</span> spans:</span><br><span class="line"></span><br><span class="line">        contour_points = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> cinfo <span class="keyword">in</span> span:</span><br><span class="line"></span><br><span class="line">            yvals = np.arange(cinfo.mask.shape[<span class="number">0</span>]).reshape((<span class="number">-1</span>, <span class="number">1</span>))</span><br><span class="line">            totals = (yvals * cinfo.mask).sum(axis=<span class="number">0</span>)</span><br><span class="line">            means = totals / cinfo.mask.sum(axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">            xmin, ymin = cinfo.rect[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">            step = SPAN_PX_PER_STEP</span><br><span class="line">            start = ((len(means)<span class="number">-1</span>) % step) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">            contour_points += [(x+xmin, means[x]+ymin)</span><br><span class="line">                               <span class="keyword">for</span> x <span class="keyword">in</span> range(start, len(means), step)]</span><br><span class="line"></span><br><span class="line">        contour_points = np.array(contour_points,</span><br><span class="line">                                  dtype=np.float32).reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">        contour_points = pix2norm(shape, contour_points)</span><br><span class="line"></span><br><span class="line">        span_points.append(contour_points)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> span_points</span><br></pre></td></tr></table></figure>

<p>함수를 보면 for문을 통해서 선(span)의 윤곽선 정보를 하나씩 추출합니다.</p>
<p>처음으로 <code>np.arange</code>함수를 통해서 <code>yvals</code>를 구합니다.</p>
<p><code>np.arange</code>는 기본형 <code>np.arange([start, ] stop, [step, ] dtype=None)</code>로 stop은 필수이고 start와 step등은 선택입니다. start와 step이 설정되지 않으면 start = 0, step = 1입니다. 기능은 stop까지의 값을 array형태로 반환하는 것입니다. 여기서 input으로 들어온 값을 살펴보면 <code>cinfo.mask</code>의 차원을 리턴합니다. mask는 윤곽선이 그려져있는 작은 이미지입니다. 이미지 배열에서 <code>shape</code>를 하게되면 리턴의 뜻은 <code>(y축, x축)</code>입니다. 여기서는 y축의 값을 <code>reshape</code>를 통해 <code>n x 1</code> 차원의 배열로 재배열 합니다. 아래 예를 보면 이해가 빠릅니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cinfo.mask.shape = (<span class="number">5</span>, <span class="number">19</span>)</span><br><span class="line">yvals =  [[<span class="number">0</span>]</span><br><span class="line"> [<span class="number">1</span>]</span><br><span class="line"> [<span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span>]</span><br><span class="line"> [<span class="number">4</span>]]</span><br></pre></td></tr></table></figure>

<p>다음은 y축의 중간값을 구합니다. 윤곽선은 두께가 있기 때문에 윤곽선의 중심의 y축 좌표를 구하기 위해서 계산을 합니다. 앞서 구한 y축 값을 실제 이미지에 곱해 줍니다. 그러고 곱해준 값을 x축을 기준으로한 y축의 합과 나누면 중간값(평균값)을 취득할 수 있습니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">totals = (yvals * cinfo.mask).sum(axis=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># yvals * cinfo.mask =  [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]</span></span><br><span class="line"><span class="comment">#  [0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]</span></span><br><span class="line"><span class="comment">#  [2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2]</span></span><br><span class="line"><span class="comment">#  [0 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3]</span></span><br><span class="line"><span class="comment">#  [0 4 4 4 4 4 4 4 4 4 4 4 0 0 0 0 0 0 0]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># totals = [ 2  9 10 10 10 10 10 10 10 10 10 10  6  6  6  6  6  6  6]</span></span><br><span class="line"></span><br><span class="line">means = totals // cinfo.mask.sum(axis=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># cinfo.mask.sum(axis=0) =  [1 3 4 4 4 4 4 4 4 5 5 5 4 4 4 4 4 4 4]</span></span><br><span class="line"><span class="comment"># means =  [2 3 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1]</span></span><br></pre></td></tr></table></figure>

<p>다음으로 포인트의 좌표를 특정하기 위한 작업을 합니다. 처음으로 <code>xmin, ymin = cinfo.rect[:2]</code>를 통해 윤곽선을 둘러싸는 사각형의 좌측 상단 포인트 좌표 취득합니다. 여기서 기준이 되는 이미지 mask는 (0,0)을 기준으로한 이미지기 때문에 실제 좌표에 대입하기 위해서 xmin과 ymin을 더해줄 필요가 있습니다.</p>
<p>다음으로 start지점과 20px마다의 점의 좌표를 구합니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">step = SPAN_PX_PER_STEP</span><br><span class="line">start = ((len(means)<span class="number">-1</span>) % step) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">contour_points += [(x+xmin, means[x]+ymin)</span><br><span class="line">                   <span class="keyword">for</span> x <span class="keyword">in</span> range(start, len(means), step)]</span><br></pre></td></tr></table></figure>

<p>다음으로 이미지에 대입할 실제값을 구하는 작업을 합니다. <code>reshape((-1, 1, 2)</code>의 의미는 opencv에서 쓰는 배열의 모양이 <code>(x, 1, y)</code>이기 때문입니다. 관련 자료는 <a href="https://stackoverflow.com/questions/51723910/at-what-situation-points-need-to-be-reshaped-like-reshape-1-1-2-in-python-open" rel="external nofollow noopener noreferrer" target="_blank">여기</a>를 참고하세요.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  contour_points =  [(365, 588), (385, 587), (405, 588)]</span></span><br><span class="line">contour_points = np.array(contour_points,</span><br><span class="line">                          dtype=np.float32).reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment">#  contour_points =  [[[365. 588.]]</span></span><br><span class="line"><span class="comment">#  [[385. 587.]]</span></span><br><span class="line"><span class="comment">#  [[405. 588.]]]</span></span><br><span class="line"></span><br><span class="line">contour_points = pix2norm(shape, contour_points)</span><br><span class="line"><span class="comment"># contour_points =  [[[0.36753446 0.8009189 ]]</span></span><br><span class="line"><span class="comment">#  [[0.4287902  0.7978561 ]]</span></span><br><span class="line"><span class="comment">#  [[0.49004596 0.8009189 ]]]</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/0036.png" alt="span point"></p>
<h2 id="keypoints-from-samples"><a href="#keypoints-from-samples" class="headerlink" title="keypoints_from_samples"></a>keypoints_from_samples</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">keypoints_from_samples</span><span class="params">(name, small, pagemask, page_outline,</span></span></span><br><span class="line"><span class="function"><span class="params">                           span_points)</span>:</span></span><br><span class="line"></span><br><span class="line">    all_evecs = np.array([[<span class="number">0.0</span>, <span class="number">0.0</span>]])</span><br><span class="line">    all_weights = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> points <span class="keyword">in</span> span_points:</span><br><span class="line">        _, evec = cv2.PCACompute(points.reshape((<span class="number">-1</span>, <span class="number">2</span>)),</span><br><span class="line">                                 <span class="literal">None</span>, maxComponents=<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        weight = np.linalg.norm(points[<span class="number">-1</span>] - points[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        all_evecs += evec * weight</span><br><span class="line">        all_weights += weight</span><br><span class="line"></span><br><span class="line">    evec = all_evecs / all_weights</span><br><span class="line"></span><br><span class="line">    x_dir = evec.flatten()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> x_dir[<span class="number">0</span>] &lt; <span class="number">0</span>:</span><br><span class="line">        x_dir = -x_dir</span><br><span class="line"></span><br><span class="line">    y_dir = np.array([-x_dir[<span class="number">1</span>], x_dir[<span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line">    pagecoords = cv2.convexHull(page_outline)</span><br><span class="line">    pagecoords = pix2norm(pagemask.shape, pagecoords.reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>)))</span><br><span class="line">    pagecoords = pagecoords.reshape((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    px_coords = np.dot(pagecoords, x_dir)</span><br><span class="line">    py_coords = np.dot(pagecoords, y_dir)</span><br><span class="line"></span><br><span class="line">    px0 = px_coords.min()</span><br><span class="line">    px1 = px_coords.max()</span><br><span class="line"></span><br><span class="line">    py0 = py_coords.min()</span><br><span class="line">    py1 = py_coords.max()</span><br><span class="line"></span><br><span class="line">    p00 = px0 * x_dir + py0 * y_dir</span><br><span class="line">    p10 = px1 * x_dir + py0 * y_dir</span><br><span class="line">    p11 = px1 * x_dir + py1 * y_dir</span><br><span class="line">    p01 = px0 * x_dir + py1 * y_dir</span><br><span class="line"></span><br><span class="line">    corners = np.vstack((p00, p10, p11, p01)).reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    ycoords = []</span><br><span class="line">    xcoords = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> points <span class="keyword">in</span> span_points:</span><br><span class="line">        pts = points.reshape((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line">        px_coords = np.dot(pts, x_dir)</span><br><span class="line">        py_coords = np.dot(pts, y_dir)</span><br><span class="line">        ycoords.append(py_coords.mean() - py0)</span><br><span class="line">        xcoords.append(px_coords - px0)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> DEBUG_LEVEL &gt;= <span class="number">2</span>:</span><br><span class="line">        visualize_span_points(name, small, span_points, corners)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> corners, np.array(ycoords), xcoords</span><br></pre></td></tr></table></figure>

<p><code>keypoints_from_samples</code>함수에서는 일단 <code>cv2.PCACompute</code>를 통해 고유 벡터를 추출합니다. 그 후 <code>norm</code>을 통해 벡터의 크기를 구합니다.(<a href="https://blog.naver.com/martinok1103/221505801502" rel="external nofollow noopener noreferrer" target="_blank">norm 참고</a>)</p>
<p>정해 진 값들을 통해 span의 평균 고유벡터를 추출합니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">evec = all_evecs / all_weights</span><br><span class="line"><span class="comment"># evec =  [[0.999134   0.00630164]]</span></span><br><span class="line"></span><br><span class="line">x_dir = evec.flatten()</span><br><span class="line"><span class="comment"># x_dir =  [0.999134   0.00630164]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x_dir[<span class="number">0</span>] &lt; <span class="number">0</span>:</span><br><span class="line">    x_dir = -x_dir</span><br><span class="line"></span><br><span class="line">y_dir = np.array([-x_dir[<span class="number">1</span>], x_dir[<span class="number">0</span>]])</span><br><span class="line"><span class="comment"># y_dir =  [-0.00630164  0.999134  ]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>x_dir과 y_dir값을 보면 앞서 본 SVD(특이점 분해)에서 왼쪽 특이 벡터값과 비슷한 유형을 보입니다.</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pagecoords = cv2.convexHull(page_outline)</span><br></pre></td></tr></table></figure>

<p><code>cv2.convexHull</code>는 외곽선의 오목한 부분을 볼록하게 만들어 줍니다. 아래 이미지를 참고 합니다.</p>
<p><img src="/images/0031.png" alt="convexHull"></p>
<p><code>page_outline</code>은 mask 사각형의 4꼭지점 입니다.(<a href="https://jung-max.github.io/2020/02/12/openCV-pageDewarp-02/">관련 포스트</a>)</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pagecoords = cv2.convexHull(page_outline)</span><br><span class="line"><span class="comment"># pagecoords1 = [[[440 633]]</span></span><br><span class="line"><span class="comment">#  [[ 50 633]]</span></span><br><span class="line"><span class="comment">#  [[ 50  20]]</span></span><br><span class="line"><span class="comment">#  [[440  20]]]</span></span><br></pre></td></tr></table></figure>

<p><code>cv2.convexHull(page_outline)</code>을 통해 mask의 4 꼭지점을 구합니다. </p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"># pagemask.shap =  (653, 490)</span></span><br><span class="line">    <span class="comment"># pagecoords.reshape((-1, 1, 2)) =  [[[440 633]]</span></span><br><span class="line">    <span class="comment">#  [[ 50 633]]</span></span><br><span class="line">    <span class="comment">#  [[ 50  20]]</span></span><br><span class="line">    <span class="comment">#  [[440  20]]]</span></span><br><span class="line"></span><br><span class="line">     pagecoords = pix2norm(pagemask.shape, pagecoords.reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>)))</span><br><span class="line">    <span class="comment"># pagecoords = [[[ 0.59724349  0.93874426]]</span></span><br><span class="line">    <span class="comment">#  [[-0.59724349  0.93874426]]</span></span><br><span class="line">    <span class="comment">#  [[-0.59724349 -0.93874426]]</span></span><br><span class="line">    <span class="comment">#  [[ 0.59724349 -0.93874426]]]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pix2norm</span><span class="params">(shape, pts)</span>:</span></span><br><span class="line">    height, width = shape[:<span class="number">2</span>]</span><br><span class="line">    scl = <span class="number">2.0</span>/(max(height, width))</span><br><span class="line">    <span class="comment">#scl =  0.0030627871362940277</span></span><br><span class="line"></span><br><span class="line">    offset = np.array([width, height], dtye=pts.dtype).reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>))*<span class="number">0.5</span></span><br><span class="line">    <span class="comment"># offset =  [[[245.  326.5]]]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (pts - offset) * scl</span><br><span class="line">    <span class="comment"># pts - offset =  [[[ 195.   306.5]]</span></span><br><span class="line">    <span class="comment">#  [[-195.   306.5]]</span></span><br><span class="line">    <span class="comment">#  [[-195.  -306.5]]</span></span><br><span class="line">    <span class="comment">#  [[ 195.  -306.5]]]</span></span><br></pre></td></tr></table></figure>

<p><code>pix2norm</code>는 첫번째 파라미터 값(pagemask)의 높이와 폭을 각각 height, width에 저장합니다.<br>그후 높이와 폭중 큰값(여기선 653)을 2와 나누어 scl값을 구해줍니다.</p>
<p><code>pagemask.shap</code>은 pagemask의 크기가 됩니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> pagecoords = pagecoords.reshape((<span class="number">-1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># pagecoords = [[ 0.59724349  0.93874426]</span></span><br><span class="line"><span class="comment">#  [-0.59724349  0.93874426]</span></span><br><span class="line"><span class="comment">#  [-0.59724349 -0.93874426]</span></span><br><span class="line"><span class="comment">#  [ 0.59724349 -0.93874426]]</span></span><br><span class="line"></span><br><span class="line">px_coords = np.dot(pagecoords, x_dir)</span><br><span class="line">py_coords = np.dot(pagecoords, y_dir)</span><br><span class="line"><span class="comment"># px_coords =  [ 0.60264191 -0.59081064 -0.60264191  0.59081064] </span></span><br><span class="line"><span class="comment"># py_coords =  [ 0.93416769  0.94169492 -0.93416769 -0.94169492]</span></span><br><span class="line"></span><br><span class="line">px0 = px_coords.min()</span><br><span class="line">px1 = px_coords.max()</span><br><span class="line"></span><br><span class="line">py0 = py_coords.min()</span><br><span class="line">py1 = py_coords.max()</span><br><span class="line"></span><br><span class="line">p00 = px0 * x_dir + py0 * y_dir</span><br><span class="line">p10 = px1 * x_dir + py0 * y_dir</span><br><span class="line">p11 = px1 * x_dir + py1 * y_dir</span><br><span class="line">p01 = px0 * x_dir + py1 * y_dir</span><br><span class="line"></span><br><span class="line">corners = np.vstack((p00, p10, p11, p01)).reshape((<span class="number">-1</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># corners =  [[[-0.60559029 -0.93613581]]</span></span><br><span class="line"><span class="comment">#  [[ 0.59682445 -0.94174861]]</span></span><br><span class="line"><span class="comment">#  [[ 0.60559029  0.93613581]]</span></span><br><span class="line"><span class="comment">#  [[-0.59682445  0.94174861]]]</span></span><br></pre></td></tr></table></figure>

<p><code>corners</code>를 검출하는 작업을 진행합니다. corners는 외곽선을 뜻합니다. </p>
<p><code>np.vstack</code>은 열의 수가 같은 두 개 이상의 배열을 위아래로 연결하여 행의 수가 더 많은 배열을 만듭니다. 연결할 배열은 마찬가지로 하나의 리스트에 담아야 합니다.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">39</span>]:</span><br><span class="line">b1 = np.ones((<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">b1</span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]:</span><br><span class="line">b2 = np.zeros((<span class="number">3</span>, <span class="number">3</span>))</span><br><span class="line">b2</span><br><span class="line">array([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]:</span><br><span class="line">np.vstack([b1, b2])</span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br></pre></td></tr></table></figure>


        </div>
        <footer class="article-footer">
            



    <a data-url="http://jung-max.github.io/2020/02/17/openCV-pageDewarp-06/" data-id="ckzfaqfsr00nfdyuoq5mld36w" class="article-share-link"><i class="fa fa-share"></i>공유하기</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Jung Max"
        },
        "headline": "openCv page Dewarp 분석 -6",
        "image": "http://jung-max.github.io/images/0036.png",
        "keywords": "openCV pageDewarp",
        "genre": "openCV pageDewarp",
        "datePublished": "2020-02-17",
        "dateCreated": "2020-02-17",
        "dateModified": "2022-02-08",
        "url": "http://jung-max.github.io/2020/02/17/openCV-pageDewarp-06/",
        "description": "저번 포스트에서는 윤곽선을 합치는 것에대해서 살펴보았습니다.
이번 포스트에서는 키포인트 검출에대해서 살펴보겠습니다.
sample_spans1span_points = sample_spans(small.shape, spans)

sample_spans 함수로 앞서 만들었던 선(span)에서 포인트가 되는 부분을 생성합니다.
input으로는 이미지의 차원 정보("
        "wordCount": 2369
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>팔로우:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/Jung-Max" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2020/02/17/openCV-pageDewarp-07/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">새로운</strong>
        <p class="article-nav-title">
        
            openCv page Dewarp 분석 -7
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2020/02/14/openCV-pageDewarp-05/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">오래된</strong>
        <p class="article-nav-title">openCv page Dewarp 분석 -5</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">최근 글</h3>
        <div class="widget">
            <ul id="recent-post" class>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/02/14/Linux-libcurl 우분투에서 libcurl 사용/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Thumbnail/curl.png)" alt="우분투에서 libcurl 사용" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Linux/http/">http</a></p>
                            <p class="item-title"><a href="/2022/02/14/Linux-libcurl 우분투에서 libcurl 사용/" class="title">우분투에서 libcurl 사용</a></p>
                            <p class="item-date"><time datetime="2022-02-14T08:04:16.000Z" itemprop="datePublished">2022-02-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/02/10/Linux-buildroot-보드-ssh설정/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Thumbnail/roc-rk3308b-cc-plus.jpg)" alt="buildroot 보드 ssh 설정" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Linux/buildroot/">buildroot</a></p>
                            <p class="item-title"><a href="/2022/02/10/Linux-buildroot-보드-ssh설정/" class="title">buildroot 보드 ssh 설정</a></p>
                            <p class="item-date"><time datetime="2022-02-10T07:57:17.000Z" itemprop="datePublished">2022-02-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/02/10/Linux-rk-roc3308b-plus-cross-complie/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Thumbnail/roc-rk3308b-cc-plus.jpg)" alt="rk-roc3308b-plus cross compile" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Linux/buildroot/">buildroot</a></p>
                            <p class="item-title"><a href="/2022/02/10/Linux-rk-roc3308b-plus-cross-complie/" class="title">rk-roc3308b-plus cross compile</a></p>
                            <p class="item-date"><time datetime="2022-02-10T07:57:17.000Z" itemprop="datePublished">2022-02-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/02/10/Linux-rk-roc3308b-plus-보드-wifi-config/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Thumbnail/roc-rk3308b-cc-plus.jpg)" alt="rk-roc3308b-plus 보드 wifi config" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Linux/buildroot/">buildroot</a></p>
                            <p class="item-title"><a href="/2022/02/10/Linux-rk-roc3308b-plus-보드-wifi-config/" class="title">rk-roc3308b-plus 보드 wifi config</a></p>
                            <p class="item-date"><time datetime="2022-02-10T07:57:17.000Z" itemprop="datePublished">2022-02-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/02/09/Linux-libcurl example/" class="thumbnail">
    
    
        <span style="background-image:url(/images/Thumbnail/curl.png)" alt="libcurl example" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Linux/http/">http</a></p>
                            <p class="item-title"><a href="/2022/02/09/Linux-libcurl example/" class="title">libcurl example</a></p>
                            <p class="item-date"><time datetime="2022-02-09T07:31:07.000Z" itemprop="datePublished">2022-02-09</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">카테고리</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">57</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/App/">App</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/BLE/">BLE</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/HID/">HID</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/MediaPlayer/">MediaPlayer</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-Architecture/">Platform Architecture</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-DTS/">Platform DTS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-JNI/">Platform JNI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-Kernel/">Platform Kernel</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-SEAndroid/">Platform SEAndroid</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-SurfaceFlinger/">Platform SurfaceFlinger</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-U-Boot/">Platform U-Boot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-boot/">Platform boot</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Platform-개발-환경/">Platform 개발 환경</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/개발환경/">개발환경</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/지식/">지식</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">26</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/buildroot/">buildroot</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/http/">http</a><span class="category-list-count">23</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Web/Javascript/">Javascript</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/SpringBoot/">SpringBoot</a><span class="category-list-count">8</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/openCV/">openCV</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/openCV/pageDewarp/">pageDewarp</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/openCV/지식/">지식</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/python/GUI/">GUI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/setting/">setting</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/통신/">통신</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/기타/">기타</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/기타/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/기타/GitHub-Pages/">GitHub Pages</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/기타/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/기타/기타/">기타</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/기타/라즈베리파이/">라즈베리파이</a><span class="category-list-count">5</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">아카이브</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">2월 2022</a><span class="archive-list-count">26</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">1월 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">4월 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">8월 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">7월 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">6월 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">4월 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">3월 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">2월 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">1월 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">12월 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">11월 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">10월 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">9월 2019</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">8월 2019</a><span class="archive-list-count">28</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">태그</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">36</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-Platform/">Android Platform</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-raspberry-pi/">Android raspberry pi</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/App/">App</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Architecture/">Architecture</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BLE/">BLE</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Battery/">Battery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bluetooth/">Bluetooth</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Booting/">Booting</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Contours/">Contours</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DTS/">DTS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Device-Tree/">Device Tree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPIO/">GPIO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github-Pages/">Github Pages</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HID/">HID</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JNI/">JNI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-Script/">Java Script</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kernel/">Kernel</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">39</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MariaDB/">MariaDB</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MediaPlayer/">MediaPlayer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NDK/">NDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEAndroid/">SEAndroid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Service/">Service</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SurfaceFlinger/">SurfaceFlinger</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TabLayout/">TabLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/">Thread</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Toast/">Toast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/U-Boot/">U-Boot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VScode/">VScode</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/boot/">boot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/buildroot/">buildroot</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cURL/">cURL</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gui/">gui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/licence/">licence</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openCV/">openCV</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opensource/">opensource</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pageDewarp/">pageDewarp</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyqt5/">pyqt5</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/">raspberry pi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberryPi/">raspberryPi</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/serial/">serial</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/setting/">setting</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/submodule/">submodule</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/개발환경/">개발환경</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/마크다운/">마크다운</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/마크다운-문법/">마크다운 문법</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/부분빌드/">부분빌드</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">태그 클라우드</h3>
        <div class="widget tagcloud">
            <a href="/tags/Android/" style="font-size: 19.33px;">Android</a> <a href="/tags/Android-Platform/" style="font-size: 16.67px;">Android Platform</a> <a href="/tags/Android-raspberry-pi/" style="font-size: 10.67px;">Android raspberry pi</a> <a href="/tags/App/" style="font-size: 18.67px;">App</a> <a href="/tags/Architecture/" style="font-size: 10.67px;">Architecture</a> <a href="/tags/BLE/" style="font-size: 13.33px;">BLE</a> <a href="/tags/Battery/" style="font-size: 10px;">Battery</a> <a href="/tags/Bluetooth/" style="font-size: 12px;">Bluetooth</a> <a href="/tags/Booting/" style="font-size: 10px;">Booting</a> <a href="/tags/Contours/" style="font-size: 10px;">Contours</a> <a href="/tags/DTS/" style="font-size: 10.67px;">DTS</a> <a href="/tags/Device-Tree/" style="font-size: 10px;">Device Tree</a> <a href="/tags/GPIO/" style="font-size: 10px;">GPIO</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Github-Pages/" style="font-size: 12px;">Github Pages</a> <a href="/tags/HID/" style="font-size: 11.33px;">HID</a> <a href="/tags/Hexo/" style="font-size: 11.33px;">Hexo</a> <a href="/tags/JNI/" style="font-size: 10px;">JNI</a> <a href="/tags/Java-Script/" style="font-size: 10.67px;">Java Script</a> <a href="/tags/Kernel/" style="font-size: 14.67px;">Kernel</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 12.67px;">MariaDB</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MediaPlayer/" style="font-size: 10px;">MediaPlayer</a> <a href="/tags/NDK/" style="font-size: 10px;">NDK</a> <a href="/tags/SEAndroid/" style="font-size: 10px;">SEAndroid</a> <a href="/tags/Service/" style="font-size: 10px;">Service</a> <a href="/tags/SpringBoot/" style="font-size: 13.33px;">SpringBoot</a> <a href="/tags/SurfaceFlinger/" style="font-size: 10px;">SurfaceFlinger</a> <a href="/tags/TabLayout/" style="font-size: 10px;">TabLayout</a> <a href="/tags/Thread/" style="font-size: 10px;">Thread</a> <a href="/tags/Toast/" style="font-size: 10px;">Toast</a> <a href="/tags/U-Boot/" style="font-size: 10px;">U-Boot</a> <a href="/tags/VScode/" style="font-size: 10.67px;">VScode</a> <a href="/tags/Web/" style="font-size: 14px;">Web</a> <a href="/tags/boot/" style="font-size: 10px;">boot</a> <a href="/tags/buildroot/" style="font-size: 18px;">buildroot</a> <a href="/tags/cURL/" style="font-size: 17.33px;">cURL</a> <a href="/tags/gui/" style="font-size: 10px;">gui</a> <a href="/tags/http/" style="font-size: 17.33px;">http</a> <a href="/tags/licence/" style="font-size: 10px;">licence</a> <a href="/tags/openCV/" style="font-size: 16px;">openCV</a> <a href="/tags/opensource/" style="font-size: 10px;">opensource</a> <a href="/tags/pageDewarp/" style="font-size: 15.33px;">pageDewarp</a> <a href="/tags/pyqt5/" style="font-size: 10px;">pyqt5</a> <a href="/tags/python/" style="font-size: 11.33px;">python</a> <a href="/tags/raspberry-pi/" style="font-size: 10px;">raspberry pi</a> <a href="/tags/raspberryPi/" style="font-size: 10.67px;">raspberryPi</a> <a href="/tags/serial/" style="font-size: 10px;">serial</a> <a href="/tags/setting/" style="font-size: 10.67px;">setting</a> <a href="/tags/submodule/" style="font-size: 10px;">submodule</a> <a href="/tags/개발환경/" style="font-size: 11.33px;">개발환경</a> <a href="/tags/마크다운/" style="font-size: 10px;">마크다운</a> <a href="/tags/마크다운-문법/" style="font-size: 10px;">마크다운 문법</a> <a href="/tags/부분빌드/" style="font-size: 10px;">부분빌드</a>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2022 Jung Max</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'maxs-blog-5';
    
    
    var disqus_url = 'http://jung-max.github.io/2020/02/17/openCV-pageDewarp-06/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>

